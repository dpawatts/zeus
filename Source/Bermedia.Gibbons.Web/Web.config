<?xml version="1.0"?>
<configuration>
	<configSections>
		<sectionGroup name="soundInTheory">
			<section name="dynamicImage" type="SoundInTheory.DynamicImage.Configuration.DynamicImageSection" />
		</sectionGroup>
		<sectionGroup name="zeus" type="Zeus.Configuration.ZeusSectionGroup, Zeus">
			<section name="admin" type="Zeus.Configuration.AdminSection, Zeus" requirePermission="false" />
			<section name="host" type="Zeus.Configuration.HostSection, Zeus" requirePermission="false" />
			<section name="database" type="Zeus.Configuration.DatabaseSection, Zeus" requirePermission="false" />
			<section name="fileSystem" type="Zeus.Configuration.FileSystemSection, Zeus" requirePermission="false" />
			<section name="membership" type="Zeus.Configuration.MembershipSection, Zeus" requirePermission="false" />
		</sectionGroup>
	</configSections>
	
	<appSettings>
		<add key="EasyMailLicenseKey" value="Sound In Theory (Single Developer)/8356470F365804602500F20#783C8A79B" />
		<add key="NewsletterSender" value="webstore@gibbons.bm" />
		<add key="NewsletterBatchSize" value="100" />
		<add key="SmtpServerName" value="smtp.o2.co.uk" />
		<add key="SmtpServerAccount" value="roastedamoeba@o2.co.uk" />
		<add key="SmtpServerPassword" value="gar4field" />
	</appSettings>
	
	<connectionStrings>
		<add name="Zeus" connectionString="Server=.\SQLEXPRESS;Database=Gibbons_Zeus;Integrated Security=True" />
	</connectionStrings>
	<runtime>
		<assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
			<dependentAssembly>
				<assemblyIdentity name="NHibernate" publicKeyToken="AA95F207798DFDB4" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-2.1.0.1000" newVersion="2.1.0.1001"/>
			</dependentAssembly>
		</assemblyBinding>
	</runtime>
	<system.web>
		<authentication mode="Forms">
			<forms loginUrl="admin/login.aspx" protection="All" timeout="60" path="/">
				<credentials passwordFormat="Clear">
					<user name="administrator" password="Pa$$sw0rd" />
					<user name="editor" password="passw0rd" />
				</credentials>
			</forms>
		</authentication>
		
		<compilation debug="true">
			<assemblies>
				<add assembly="System.Core, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
				<add assembly="System.Data.DataSetExtensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
				<add assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
				<add assembly="System.Xml.Linq, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
			</assemblies>
			<expressionBuilders>
				<add expressionPrefix="Code" type="Zeus.Web.Compilation.CodeExpressionBuilder, Zeus"/>
				<add expressionPrefix="CurrentPage" type="Zeus.Web.Compilation.CurrentPageExpressionBuilder, Zeus"/>
				<add expressionPrefix="HasValue" type="Zeus.Web.Compilation.HasValueExpressionBuilder, Zeus"/>
				<add expressionPrefix="HasItems" type="Zeus.Web.Compilation.HasItemsExpressionBuilder, Zeus"/>
			</expressionBuilders>
		</compilation>

		<httpHandlers>
			<remove verb="*" path="*.asmx"/>
			<add verb="*" path="*.asmx" validate="false" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
			<add verb="*" path="*_AppService.axd" validate="false" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
			<add verb="GET,HEAD" path="ScriptResource.axd" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" validate="false"/>
			<add verb="GET" path="DynamicImage.axd" type="SoundInTheory.DynamicImage.Handlers.DynamicImageHandler, SoundInTheory.DynamicImage" />
			<add verb="GET" path="File.axd" type="Zeus.Web.Handlers.FileHandler, Zeus" />
		</httpHandlers>
		
		<httpModules>
			<add name="ScriptModule" type="System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
			<add name="ContentModule" type="Zeus.Web.Modules.ContentModule, Zeus"/>
		</httpModules>

		<globalization culture="en-US" />

		<membership defaultProvider="ContentMembershipProvider">
			<providers>
				<clear />
				<add name="ContentMembershipProvider" type="Zeus.Web.Security.ContentMembershipProvider, Zeus" />
			</providers>
		</membership>
		
		<roleManager enabled="true" defaultProvider="ContentRoleProvider">
			<providers>
				<clear />
				<add name="ContentRoleProvider" type="Zeus.Web.Security.ContentRoleProvider, Zeus" />
			</providers>
		</roleManager>
		
		<pages>
			<controls>
				<add tagPrefix="asp" namespace="System.Web.UI" assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
				<add tagPrefix="asp" namespace="System.Web.UI.WebControls" assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
				<add tagPrefix="isis" namespace="Isis.Web.UI.WebControls" assembly="Isis"/>
				<add tagPrefix="sitdap" namespace="SoundInTheory.DynamicImage" assembly="SoundInTheory.DynamicImage"/>
				<add tagPrefix="sitdap" namespace="SoundInTheory.DynamicImage.Filters" assembly="SoundInTheory.DynamicImage"/>
				<add tagPrefix="sitdap" namespace="SoundInTheory.DynamicImage.Sources" assembly="SoundInTheory.DynamicImage"/>
				<add tagPrefix="zeus" namespace="Zeus.AddIns.Images" assembly="Zeus.AddIns.Images"/>
				<add tagPrefix="zeus" namespace="Zeus.Web.UI.WebControls" assembly="Zeus"/>
			</controls>
			<tagMapping>
				<add tagType="System.Web.UI.WebControls.ImageButton" mappedTagType="Isis.Web.UI.WebControls.BorderlessImageButton, Isis" />
			</tagMapping>
		</pages>

		<trace pageOutput="false" requestLimit="1000" enabled="true" />
		
		<xhtmlConformance mode="Transitional"/>
	</system.web>
	<system.codedom>
		<compilers>
			<compiler language="c#;cs;csharp" extension=".cs" warningLevel="4" type="Microsoft.CSharp.CSharpCodeProvider, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
				<providerOption name="CompilerVersion" value="v3.5"/>
				<providerOption name="WarnAsError" value="false"/>
			</compiler>
		</compilers>
	</system.codedom>
	<system.webServer>
		<validation validateIntegratedModeConfiguration="false"/>
		<handlers>
			<remove name="ScriptHandlerFactory" />
			<add name="ScriptHandlerFactory" verb="*" path="*.asmx" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
			<add name="ScriptHnalderFactory" verb="*" path="*_AppService.axd" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
			<add name="ScriptResourceHandler" verb="GET,HEAD" path="ScriptResource.axd" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
			<add name="DynamicImage" verb="GET" path="DynamicImage.axd" type="SoundInTheory.DynamicImage.Handlers.DynamicImageHandler, SoundInTheory.DynamicImage" />
			<add name="FileHandler" verb="GET" path="File.axd" type="Zeus.Web.Handlers.FileHandler, Zeus" />
		</handlers>
		<modules>
			<add name="ScriptModule" type="System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
			<add name="ContentModule" preCondition="managedHandler" type="Zeus.Web.Modules.ContentModule, Zeus"/>
		</modules>
	</system.webServer>
	<soundInTheory>
		<dynamicImage configSource="Configuration\SoundInTheory.DynamicImage.config" />
	</soundInTheory>
	<zeus>
		<admin name="Gibbons" hideBranding="true" />
		<host rootItemID="7" startPageID="1" />
		<database connectionStringName="Zeus" cacheEnabled="true" cacheProviderClass="NHibernate.Caches.SysCache2.SysCacheProvider, NHibernate.Caches.SysCache2" />
		<membership customUserClass="Bermedia.Gibbons.Web.Items.Customer, Bermedia.Gibbons.Web" />
		<fileSystem>
			<settings>
				<add key="RootFolderID" value="1" />
			</settings>
		</fileSystem>
	</zeus>
</configuration>